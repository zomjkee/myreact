(this.webpackJsonptask1=this.webpackJsonptask1||[]).push([[0],{241:function(e,t,a){e.exports=a(516)},515:function(e,t,a){},516:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setLaptops",(function(){return p}));var r={};a.r(r),a.d(r,"addToCart",(function(){return j})),a.d(r,"removeFromCart",(function(){return C}));var c={};a.r(c),a.d(c,"setFilter",(function(){return I})),a.d(c,"setSearchQuery",(function(){return A}));var i=a(0),l=a.n(i),u=a(31),o=a.n(u),s=a(15),m=a(24),d=a(18),p=function(e){return{type:"SET_LAPTOPS",payload:e}},f=a(208),b=a(209),E=a(230),v=a(227),O=a(524),y=a(210),h=a.n(y),j=function(e){return{type:"ADD_TO_CART",payload:e}},C=function(e){return{type:"REMOVE_FROM_CART",payload:e}},g=a(527),R=a(517),_=a(229),T=a(528),w=a(34),S=function(e){var t=e.title,a=e.image,n=e.price,r=e.manufacturer,c=e.addToCart,i=e.addedCount;return l.a.createElement(T.a,null,l.a.createElement(_.a,{src:a}),l.a.createElement(T.a.Content,null,l.a.createElement(T.a.Header,null,t),l.a.createElement(T.a.Meta,null,l.a.createElement("span",{className:"date"},r))),l.a.createElement(T.a.Content,{extra:!0},l.a.createElement("a",null,l.a.createElement(w.a,{name:"rub"}),n)),l.a.createElement(R.a,{onClick:c.bind(void 0,e)},"Add to cart",i>0&&"(".concat(i,")")))},k=Object(m.b)((function(e,t){var a=e.cart,n=t.id;return{addedCount:a.items.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),(function(e){return Object(s.a)({},Object(d.b)(r,e))}))(S),I=function(e){return{type:"SET_FILTER",payload:e}},A=function(e){return{type:"SET_QUERY",payload:e}},L=a(529),P=a(523),F=function(e){var t=e.setFilter,a=e.filterBy,n=e.searchQuery,r=e.setSearchQuery;return l.a.createElement(L.a,{secondary:!0},l.a.createElement(L.a.Item,{active:"all"===a,onClick:t.bind(void 0,"all")},"All"),l.a.createElement(L.a.Item,{active:"price_high"===a,onClick:t.bind(void 0,"price_high")},"Price (expensive)"),l.a.createElement(L.a.Item,{active:"price_low"===a,onClick:t.bind(void 0,"price_low")},"Price (cheap)"),l.a.createElement(L.a.Item,{active:"manufacturer"===a,onClick:t.bind(void 0,"manufacturer")},"Manufacturer"),l.a.createElement(L.a.Item,null,l.a.createElement(P.a,{icon:"search",onChange:function(e){return r(e.target.value)},value:n,placeholder:"Search..."})))},M=Object(m.b)((function(e){e.laptops;return{filterBy:e.filter.filterBy}}),(function(e){return Object(s.a)({},Object(d.b)(c,e))}))(F),Q=a(526),B=function(e){var t=e.title,a=e.id,n=e.image,r=e.removeFromCart;return l.a.createElement(g.a,{selection:!0,divided:!0,verticalAlign:"middle"},l.a.createElement(g.a.Item,null,l.a.createElement(g.a.Content,{floated:"right"},l.a.createElement(R.a,{onClick:r.bind(void 0,a),color:"blue"},"Remove")),l.a.createElement(_.a,{avatar:!0,src:n}),l.a.createElement(g.a.Content,null,t)))},x=function(e){var t=e.totalPrice,a=e.count,n=e.items;return l.a.createElement(L.a,null,l.a.createElement(L.a.Item,{name:"browse"},"Laptops Shop"),l.a.createElement(L.a.Menu,{position:"right"},l.a.createElement(L.a.Item,{name:"signup"},"Total: \xa0 ",l.a.createElement("b",null,t)," \xa0Rub"),l.a.createElement(Q.a,{trigger:l.a.createElement(L.a.Item,{name:"help"},"Cart (",l.a.createElement("b",null,a),")"),content:n.map((function(e){return l.a.createElement(B,e)})),on:"click",hideOnScroll:!0})))},D=a(225),N=a.n(D),Y=Object(m.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return Number(e)+Number(t.price)}),0),count:t.items.length,items:N()(t.items,(function(e){return e.id}))}}),(function(e){return Object(s.a)({},Object(d.b)(r,e))}))(x),J=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.setLaptops;h.a.get("/laptops.json").then((function(t){var a=t.data;e(a)}))}},{key:"render",value:function(){var e=this.props,t=e.laptops,a=e.isReady;return l.a.createElement(O.a,null,l.a.createElement(Y,null),l.a.createElement(M,null),l.a.createElement(T.a.Group,{itemPerRows:4},a?t.map((function(e,t){return l.a.createElement(k,Object.assign({key:t},e))})):"loading..."))}}]),a}(i.Component),U=a(89),V=a.n(U),G=function(e,t,a){return function(e,t){switch(t){case"price_high":return V()(e,"price","desc");case"price_low":return V()(e,"price","asc");case"manufacturer":return V()(e,"manufacturer","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.manufacturer.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},H=Object(m.b)((function(e){var t=e.laptops,a=e.filter;return{laptops:t.items&&G(t.items,a.filterBy,a.searchQuery),isReady:t.isReady}}),(function(e){return Object(s.a)({},Object(d.b)(n,e))}))(J),W=(a(514),a(515),a(226)),q=a.n(W),z={isReady:!1,items:null},K=a(228),X={items:[]},Z={searchQuery:"",filterBy:"all"},$=Object(d.c)({laptops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LAPTOPS":return Object(s.a)(Object(s.a)({},e),{},{items:t.payload,isReady:!0});case"SET_IS_READY":return Object(s.a)(Object(s.a)({},e),{},{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(s.a)(Object(s.a)({},e),{},{items:[].concat(Object(K.a)(e.items),[t.payload])});case"REMOVE_FROM_CART":return Object(s.a)(Object(s.a)({},e),{},{items:e.items.filter((function(e){return e.id!=t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return Object(s.a)(Object(s.a)({},e),{},{searchQuery:t.payload});case"SET_FILTER":return Object(s.a)(Object(s.a)({},e),{},{filterBy:t.payload});default:return e}}}),ee=Object(d.d)($,Object(d.a)(q.a));o.a.render(l.a.createElement(m.a,{store:ee},l.a.createElement(H,null)),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.f4bc9302.chunk.js.map